package com.qut.spc.controller;


import javax.ws.rs.DefaultValue;
import javax.ws.rs.GET;
import javax.ws.rs.Path;
import javax.ws.rs.Produces;
import javax.ws.rs.QueryParam;

import com.qut.spc.exceptions.InvalidArgumentException;
import com.qut.spc.marshalling.SolarComponentUnmarshaller;
import com.qut.spc.model.BatteryContainer;
import com.qut.spc.model.ComponentContainer;
import com.qut.spc.model.InverterContainer;
import com.qut.spc.model.PanelContainer;

@Path("/populate/")
public class DBPopulator {

	
	private SolarComponentUnmarshaller um;

	String inputPanel="<panels> <panel> <manufacturer>UNI-SOLAR</manufacturer> <capacity>128</capacity> <model>PVL 128</model> <dimensions>5486*394*4</dimensions> <voltage>24</voltage> <operatingCurrent>4.13</operatingCurrent> <peakPower>100W-150W</peakPower> <weight>7.7</weight> <warranty>20</warranty> <price>525</price> </panel> <panel> <manufacturer>UNI-SOLAR</manufacturer> <capacity>136</capacity> <model>PVL 136</model> <dimensions>5486*394*4</dimensions> <voltage>24</voltage> <operatingCurrent>4.13</operatingCurrent> <peakPower>100W-151W</peakPower> <weight>7.8</weight> <warranty>20</warranty> <price>550</price> </panel> <panel> <manufacturer>SUNGEAR</manufacturer> <capacity>10</capacity> <model>FLX 10</model> <dimensions>555*375*20</dimensions> <voltage>12</voltage> <operatingCurrent>0.6</operatingCurrent> <peakPower>Under 50W</peakPower> <weight>0.6</weight> <warranty>20</warranty> <price>199</price> </panel> <panel> <manufacturer>SOLAR-E</manufacturer> <capacity>20</capacity> <model>SE20M</model> <dimensions>638*304*35</dimensions> <voltage>12</voltage> <operatingCurrent>1.14</operatingCurrent> <peakPower>Under 50W</peakPower> <weight>2.5</weight> <warranty>12</warranty> <price>80</price> </panel> <panel> <manufacturer>SOLAR-E</manufacturer> <capacity>40</capacity> <model>SE40M</model> <dimensions>638*554*35</dimensions> <voltage>12</voltage> <operatingCurrent>2.29</operatingCurrent> <peakPower>Under 50W</peakPower> <weight>4.34</weight> <warranty>12</warranty> <price>150</price> </panel> <panel> <manufacturer>SOLAR-E</manufacturer> <capacity>55</capacity> <model>SE55W</model> <dimensions>816*554*35</dimensions> <voltage>12</voltage> <operatingCurrent>3.16</operatingCurrent> <peakPower>50W-100W</peakPower> <weight>5.5</weight> <warranty>12</warranty> <price>190</price> </panel> <panel> <manufacturer>SOLAR-E</manufacturer> <capacity>195</capacity> <model>CMS195M</model> <dimensions>1580*808*46</dimensions> <voltage>24</voltage> <operatingCurrent>5.73</operatingCurrent> <peakPower>150W-200W</peakPower> <weight>16</weight> <warranty>25</warranty> <price>370</price> </panel> <panel> <manufacturer>K-Solar</manufacturer> <capacity>80</capacity> <model>KW80M</model> <dimensions>1068*541*38</dimensions> <voltage>12</voltage> <operatingCurrent>4.97</operatingCurrent> <peakPower>50W-100W</peakPower> <weight>7</weight> <warranty>25</warranty> <price>220</price> </panel> <panel> <manufacturer>K-Solar</manufacturer> <capacity>130</capacity> <model>KWT130P</model> <dimensions>1491*671*38</dimensions> <voltage>12</voltage> <operatingCurrent>7.68</operatingCurrent> <peakPower>100W-150W</peakPower> <weight>14</weight> <warranty>25</warranty> <price>320</price> </panel> <panel> <manufacturer>K-Solar</manufacturer> <capacity>250</capacity> <model>--</model> <dimensions>1642*979*38</dimensions> <voltage>0</voltage> <operatingCurrent>8.23</operatingCurrent> <peakPower>Over200W</peakPower> <weight>19</weight> <warranty>25</warranty> <price>490</price> </panel> <panel> <manufacturer>SHARP</manufacturer> <capacity>80</capacity> <model>NE-080T1J</model> <dimensions>1214*545*35</dimensions> <voltage>12</voltage> <operatingCurrent>4.63</operatingCurrent> <peakPower>50W-100W</peakPower> <weight>8.5</weight> <warranty>25</warranty> <price>490</price> </panel> <panel> <manufacturer>LG</manufacturer> <capacity>215</capacity> <model>--</model> <dimensions>1649*993*42</dimensions> <voltage>35</voltage> <operatingCurrent>7.68</operatingCurrent> <peakPower>Over200W</peakPower> <weight>19.5</weight> <warranty>25</warranty> <price>450</price> </panel> <panel> <manufacturer>LG</manufacturer> <capacity>225</capacity> <model>--</model> <dimensions>1649*993*42</dimensions> <voltage>36</voltage> <operatingCurrent>7.76</operatingCurrent> <peakPower>Over200W</peakPower> <weight>19.5</weight> <warranty>25</warranty> <price>470</price> </panel> <panel> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <capacity>60</capacity> <model>60W</model> <dimensions>840*541*35</dimensions> <voltage>12</voltage> <operatingCurrent>3.5</operatingCurrent> <peakPower>50W-100W</peakPower> <weight>5.5</weight> <warranty>25</warranty> <price>175</price> </panel> <panel> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <capacity>40</capacity> <model>40W</model> <dimensions>630*540*35</dimensions> <voltage>12</voltage> <operatingCurrent>2.3</operatingCurrent> <peakPower>Under 50W</peakPower> <weight>4.4</weight> <warranty>25</warranty> <price>149</price> </panel> <panel> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <capacity>80</capacity> <model>80W</model> <dimensions>1195*541*35</dimensions> <voltage>12</voltage> <operatingCurrent>4.45</operatingCurrent> <peakPower>50W-100W</peakPower> <weight>7.9</weight> <warranty>25</warranty> <price>219</price> </panel> <panel> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <capacity>100</capacity> <model>100W</model> <dimensions>1325*540*40</dimensions> <voltage>12</voltage> <operatingCurrent>4.98</operatingCurrent> <peakPower>50W-100W</peakPower> <weight>8.9</weight> <warranty>25</warranty> <price>259</price> </panel> <panel> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <capacity>120</capacity> <model>120W</model> <dimensions>840*1070*35</dimensions> <voltage>12</voltage> <operatingCurrent>6.67</operatingCurrent> <peakPower>100W-150W</peakPower> <weight>15.3</weight> <warranty>25</warranty> <price>279</price> </panel> <panel> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <capacity>140</capacity> <model>140W</model> <dimensions>1482*676*35</dimensions> <voltage>12</voltage> <operatingCurrent>7.76</operatingCurrent> <peakPower>100-150W</peakPower> <weight>11.7</weight> <warranty>25</warranty> <price>309</price> </panel> <panel> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <capacity>200</capacity> <model>200W</model> <dimensions>1195*1064*45</dimensions> <voltage>12</voltage> <operatingCurrent>10.93</operatingCurrent> <peakPower>150-200W</peakPower> <weight>15</weight> <warranty>25</warranty> <price>429</price> </panel> </panels> ";
	String inputBattery="<batteries> <battery> <manufacturer>GEL-TECH</manufacturer> <type>Sealed Gel</type> <model>8GUIH</model> <voltage>12</voltage> <capacityTenHour>0</capacityTenHour> <capacity>31.6</capacity> <capacityTwentyHour>36.4</capacityTwentyHour> <dimensions>196*130*184</dimensions> <weight>11.0kg</weight> <price>165</price> </battery> <battery> <manufacturer>GEL-TECH</manufacturer> <type>Sealed Gel</type> <model>8G22NF</model> <voltage>12</voltage> <capacityTenHour>0</capacityTenHour> <capacity>50.6</capacity> <capacityTwentyHour>56.5</capacityTwentyHour> <dimensions>238*140*235</dimensions> <weight>17.1kg</weight> <price>249</price> </battery> <battery> <manufacturer>GEL-TECH</manufacturer> <type>Sealed Gel</type> <model>8G24</model> <voltage>12</voltage> <capacityTenHour>0</capacityTenHour> <capacity>73.6</capacity> <capacityTwentyHour>80</capacityTwentyHour> <dimensions>276*171*251</dimensions> <weight>24.3kg</weight> <price>325</price> </battery> <battery> <manufacturer>GEL-TECH</manufacturer> <type>Sealed Gel</type> <model>8G27</model> <voltage>12</voltage> <capacityTenHour>0</capacityTenHour> <capacity>86.4</capacity> <capacityTwentyHour>98</capacityTwentyHour> <dimensions>327*171*251</dimensions> <weight>28.7kg</weight> <price>375</price> </battery> <battery> <manufacturer>GEL-TECH</manufacturer> <type>Sealed Gel</type> <model>8G31DT</model> <voltage>12</voltage> <capacityTenHour>0</capacityTenHour> <capacity>97.6</capacity> <capacityTwentyHour>108</capacityTwentyHour> <dimensions>329*171*248</dimensions> <weight>32.5kg</weight> <price>419</price> </battery> <battery> <manufacturer>GEL-TECH</manufacturer> <type>Sealed Gel</type> <model>8G4D</model> <voltage>12</voltage> <capacityTenHour>0</capacityTenHour> <capacity>183</capacity> <capacityTwentyHour>210</capacityTwentyHour> <dimensions>527*216*254</dimensions> <weight>59.9kg</weight> <price>815</price> </battery> <battery> <manufacturer>GEL-TECH</manufacturer> <type>Sealed Gel</type> <model>8G8D</model> <voltage>12</voltage> <capacityTenHour>0</capacityTenHour> <capacity>225</capacity> <capacityTwentyHour>265</capacityTwentyHour> <dimensions>527*279*254</dimensions> <weight>72.9kg</weight> <price>929</price> </battery> <battery> <manufacturer>GEL-TECH</manufacturer> <type>Sealed Gel</type> <model>8GGC2</model> <voltage>6</voltage> <capacityTenHour>0</capacityTenHour> <capacity>180</capacity> <capacityTwentyHour>198</capacityTwentyHour> <dimensions>260*181*276</dimensions> <weight>32.5kg</weight> <price>419</price> </battery> <battery> <manufacturer>Lifeline</manufacturer> <type>Sealed AGM</type> <model>GPLU1</model> <voltage>12</voltage> <capacityTenHour>0</capacityTenHour> <capacity>33</capacity> <capacityTwentyHour>37</capacityTwentyHour> <dimensions>196*132*175</dimensions> <weight>10.9kg</weight> <price>199</price> </battery> <battery> <manufacturer>Lifeline</manufacturer> <type>Sealed AGM</type> <model>GPL24</model> <voltage>12</voltage> <capacityTenHour>0</capacityTenHour> <capacity>80</capacity> <capacityTwentyHour>96</capacityTwentyHour> <dimensions>283*172*235</dimensions> <weight>25.5kg</weight> <price>415</price> </battery> <battery> <manufacturer>Lifeline</manufacturer> <type>Sealed AGM</type> <model>GPL27</model> <voltage>12</voltage> <capacityTenHour>0</capacityTenHour> <capacity>100</capacity> <capacityTwentyHour>120</capacityTwentyHour> <dimensions>333*172*235</dimensions> <weight>29.5kg</weight> <price>465</price> </battery> <battery> <manufacturer>Lifeline</manufacturer> <type>Sealed AGM</type> <model>GPL31</model> <voltage>12</voltage> <capacityTenHour>0</capacityTenHour> <capacity>105</capacity> <capacityTwentyHour>125</capacityTwentyHour> <dimensions>328*172*236</dimensions> <weight>31.4kg</weight> <price>475</price> </battery> <battery> <manufacturer>Lifeline</manufacturer> <type>Sealed AGM</type> <model>GPL40</model> <voltage>12</voltage> <capacityTenHour>0</capacityTenHour> <capacity>210</capacity> <capacityTwentyHour>253</capacityTwentyHour> <dimensions>528*222*257</dimensions> <weight>61.2kg</weight> <price>940</price> </battery> <battery> <manufacturer>Lifeline</manufacturer> <type>Sealed AGM</type> <model>GPL8D</model> <voltage>12</voltage> <capacityTenHour>0</capacityTenHour> <capacity>255</capacity> <capacityTwentyHour>306</capacityTwentyHour> <dimensions>527*278*260</dimensions> <weight>73.6kg</weight> <price>1090</price> </battery> <battery> <manufacturer>Lifeline</manufacturer> <type>Sealed AGM</type> <model>GPL4C</model> <voltage>6</voltage> <capacityTenHour>0</capacityTenHour> <capacity>220</capacity> <capacityTwentyHour>265</capacityTwentyHour> <dimensions>261*181*294</dimensions> <weight>30.0kg</weight> <price>475</price> </battery> <battery> <manufacturer>Lifeline</manufacturer> <type>Sealed AGM</type> <model>GPL-6C</model> <voltage>6</voltage> <capacityTenHour>0</capacityTenHour> <capacity>300</capacity> <capacityTwentyHour>345</capacityTwentyHour> <dimensions>261*180*331</dimensions> <weight>42.2kg</weight> <price>610</price> </battery> <battery> <manufacturer>Remco</manufacturer> <type>Sealed AGM</type> <model>RM12-70</model> <voltage>12</voltage> <capacityTenHour>0</capacityTenHour> <capacity>70</capacity> <capacityTwentyHour>77</capacityTwentyHour> <dimensions>259*165*208</dimensions> <weight>25.0kg</weight> <price>285</price> </battery> <battery> <manufacturer>Remco</manufacturer> <type>Sealed AGM</type> <model>RM12-100</model> <voltage>12</voltage> <capacityTenHour>0</capacityTenHour> <capacity>100</capacity> <capacityTwentyHour>110</capacityTwentyHour> <dimensions>204*165*208</dimensions> <weight>30.5kg</weight> <price>325</price> </battery> <battery> <manufacturer>Enersun SSR</manufacturer> <type>Tubular Positive Flooded Cell</type> <model>SSR535-6</model> <voltage>6</voltage> <capacityTenHour>0</capacityTenHour> <capacity>535</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>340*165*640</dimensions> <weight>88kg</weight> <price>1100</price> </battery> <battery> <manufacturer>Enersun SSR</manufacturer> <type>Tubular Positive Flooded Cell</type> <model>SSR450-6</model> <voltage>6</voltage> <capacityTenHour>0</capacityTenHour> <capacity>450</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>340*165*640</dimensions> <weight>81kg</weight> <price>1010</price> </battery> <battery> <manufacturer>Enersun SSR</manufacturer> <type>Tubular Positive Flooded Cell</type> <model>SSR700-6</model> <voltage>6</voltage> <capacityTenHour>0</capacityTenHour> <capacity>700</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>435*165*640</dimensions> <weight>109kg</weight> <price>1270</price> </battery> <battery> <manufacturer>Enersun SSR</manufacturer> <type>Tubular Positive Flooded Cell</type> <model>SSR875-6</model> <voltage>6</voltage> <capacityTenHour>0</capacityTenHour> <capacity>875</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>531*165*640</dimensions> <weight>133kg</weight> <price>1450</price> </battery> <battery> <manufacturer>Enersun SSR</manufacturer> <type>Tubular Positive Flooded Cell</type> <model>SSR1025-4</model> <voltage>4</voltage> <capacityTenHour>0</capacityTenHour> <capacity>1025</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>326*215*640</dimensions> <weight>133kg</weight> <price>1250</price> </battery> <battery> <manufacturer>Enersun SSR</manufacturer> <type>Tubular Positive Flooded Cell</type> <model>SSR1320-4</model> <voltage>4</voltage> <capacityTenHour>0</capacityTenHour> <capacity>1320</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>340*320*640</dimensions> <weight>140kg</weight> <price>1390</price> </battery> <battery> <manufacturer>Raylite</manufacturer> <type>M-Solar</type> <model>3MIL17S</model> <voltage>6</voltage> <capacityTenHour>0</capacityTenHour> <capacity>600</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>585*198*460</dimensions> <weight>91kg</weight> <price>1312</price> </battery> <battery> <manufacturer>Raylite</manufacturer> <type>M-Solar</type> <model>3MIL21S</model> <voltage>6</voltage> <capacityTenHour>0</capacityTenHour> <capacity>750</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>585*230*460</dimensions> <weight>116kg</weight> <price>1538</price> </battery> <battery> <manufacturer>Raylite</manufacturer> <type>M-Solar</type> <model>3MIL35S</model> <voltage>6</voltage> <capacityTenHour>0</capacityTenHour> <capacity>900</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>585*262*460</dimensions> <weight>133kg</weight> <price>1792</price> </battery> <battery> <manufacturer>Raylite</manufacturer> <type>M-Solar</type> <model>2MIL25S</model> <voltage>4</voltage> <capacityTenHour>0</capacityTenHour> <capacity>1050</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>411*262*530</dimensions> <weight>97kg</weight> <price>1312</price> </battery> <battery> <manufacturer>Raylite</manufacturer> <type>M-Solar</type> <model>2MITE21S</model> <voltage>4</voltage> <capacityTenHour>0</capacityTenHour> <capacity>1380</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>415*230*740</dimensions> <weight>127kg</weight> <price>1530</price> </battery> <battery> <manufacturer>Raylite</manufacturer> <type>M-Solar</type> <model>2MTE25S</model> <voltage>4</voltage> <capacityTenHour>0</capacityTenHour> <capacity>1660</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>415*262*740</dimensions> <weight>145kg</weight> <price>1796</price> </battery> <battery> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <type>AGM</type> <model>28AH</model> <voltage>12</voltage> <capacityTenHour>0</capacityTenHour> <capacity>28</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>167*173*128</dimensions> <weight>8.4kg</weight> <price>99</price> </battery> <battery> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <type>AGM</type> <model>33AH</model> <voltage>12</voltage> <capacityTenHour>30</capacityTenHour> <capacity>33</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>196*131*176</dimensions> <weight>10.5kg</weight> <price>109</price> </battery> <battery> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <type>AGM</type> <model>45AH</model> <voltage>12</voltage> <capacityTenHour>40</capacityTenHour> <capacity>45</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>197*165*170</dimensions> <weight>13.7kg</weight> <price>149</price> </battery> <battery> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <type>AGM</type> <model>60AH</model> <voltage>12</voltage> <capacityTenHour>55</capacityTenHour> <capacity>60</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>228*137*210</dimensions> <weight>17.7kg</weight> <price>229</price> </battery> <battery> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <type>AGM</type> <model>110AH</model> <voltage>12</voltage> <capacityTenHour></capacityTenHour> <capacity>110</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>330*173*212</dimensions> <weight>29.4kg</weight> <price>299</price> </battery> <battery> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <type>AGM</type> <model>120AH</model> <voltage>12</voltage> <capacityTenHour>110</capacityTenHour> <capacity>120</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>330*173*220</dimensions> <weight>31.4kg</weight> <price>319</price> </battery> <battery> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <type>AGM</type> <model>135AH</model> <voltage>12</voltage> <capacityTenHour></capacityTenHour> <capacity>135</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>410*177*255</dimensions> <weight>34.4kg</weight> <price>399</price> </battery> <battery> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <type>AGM</type> <model>150AH</model> <voltage>12</voltage> <capacityTenHour>135</capacityTenHour> <capacity>150</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>341*172*288</dimensions> <weight>44.0kg</weight> <price>359</price> </battery> <battery> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <type>AGM</type> <model>165AH</model> <voltage>12</voltage> <capacityTenHour>150</capacityTenHour> <capacity>165</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>485*172*240</dimensions> <weight>46.0kg</weight> <price>399</price> </battery> <battery> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <type>AGM</type> <model>230AH</model> <voltage>12</voltage> <capacityTenHour>200</capacityTenHour> <capacity>230</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>525*243*245</dimensions> <weight>63.0kg</weight> <price>479</price> </battery> <battery> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <type>AGM</type> <model>280AH</model> <voltage>12</voltage> <capacityTenHour>250</capacityTenHour> <capacity>280</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>525*268*249</dimensions> <weight>74.0kg</weight> <price>589</price> </battery> <battery> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <type>AGM</type> <model>80AH</model> <voltage>12</voltage> <capacityTenHour>0</capacityTenHour> <capacity>80</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>260*170*214</dimensions> <weight>23.5kg</weight> <price>219</price> </battery> <battery> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <type>AGM</type> <model>232AH</model> <voltage>12</voltage> <capacityTenHour>0</capacityTenHour> <capacity>232</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>260*181*287</dimensions> <weight>23.6kg</weight> <price>239</price> </battery> <battery> <manufacturer>AUSSIE BATTERIES &amp; SOLAR</manufacturer> <type>AGM</type> <model>65AH</model> <voltage>12</voltage> <capacityTenHour>60.5</capacityTenHour> <capacity>65</capacity> <capacityTwentyHour>0</capacityTwentyHour> <dimensions>348*167*178</dimensions> <weight>23.5kg</weight> <price>189</price> </battery> </batteries> ";
	String inputInverter="<inverters> <inverter> <manufacturer>Latronics</manufacturer> <model>LS 512</model> <voltage>12</voltage> <capacity>500</capacity> <halfHourRating>550W</halfHourRating> <surgeRating>1500W</surgeRating> <batteryVoltageRange>10.5-17V</batteryVoltageRange> <efficiency>90</efficiency> <standbyCurrent>27mA</standbyCurrent> <weight>4.5kg</weight> </inverter> <inverter> <manufacturer>Latronics</manufacturer> <model>LS 624</model> <voltage>24</voltage> <capacity>600</capacity> <halfHourRating>750W</halfHourRating> <surgeRating>2000W</surgeRating> <batteryVoltageRange>21-34V</batteryVoltageRange> <efficiency>92</efficiency> <standbyCurrent>22mA</standbyCurrent> <weight>4.7kg</weight> </inverter> <inverter> <manufacturer>Latronics</manufacturer> <model>LS 1012</model> <voltage>12</voltage> <capacity>1000</capacity> <halfHourRating>1150W</halfHourRating> <surgeRating>3000W</surgeRating> <batteryVoltageRange>10.5-17V</batteryVoltageRange> <efficiency>91</efficiency> <standbyCurrent>37mA</standbyCurrent> <weight>11kg</weight> </inverter> <inverter> <manufacturer>Latronics</manufacturer> <model>LS 1224</model> <voltage>24</voltage> <capacity>1200</capacity> <halfHourRating>1600W</halfHourRating> <surgeRating>3600W</surgeRating> <batteryVoltageRange>21-34V</batteryVoltageRange> <efficiency>92</efficiency> <standbyCurrent>28mA</standbyCurrent> <weight>11kg</weight> </inverter> <inverter> <manufacturer>Latronics</manufacturer> <model>LS 1512</model> <voltage>12</voltage> <capacity>1500</capacity> <halfHourRating>1600W</halfHourRating> <surgeRating>4500W</surgeRating> <batteryVoltageRange>10.5-17V</batteryVoltageRange> <efficiency>91</efficiency> <standbyCurrent>42mA</standbyCurrent> <weight>14kg</weight> </inverter> <inverter> <manufacturer>Latronics</manufacturer> <model>LS 1824</model> <voltage>24</voltage> <capacity>1800</capacity> <halfHourRating>2200W</halfHourRating> <surgeRating>5400W</surgeRating> <batteryVoltageRange>21-34V</batteryVoltageRange> <efficiency>94</efficiency> <standbyCurrent>30mA</standbyCurrent> <weight>14kg</weight> </inverter> <inverter> <manufacturer>Latronics</manufacturer> <model>LS 2012</model> <voltage>12</voltage> <capacity>2000</capacity> <halfHourRating>2200W</halfHourRating> <surgeRating>5500W</surgeRating> <batteryVoltageRange>10.5-17V</batteryVoltageRange> <efficiency>90</efficiency> <standbyCurrent>75mA</standbyCurrent> <weight>22kg</weight> </inverter> <inverter> <manufacturer>Latronics</manufacturer> <model>LS 2324</model> <voltage>24</voltage> <capacity>2300</capacity> <halfHourRating>2800W</halfHourRating> <surgeRating>7000W</surgeRating> <batteryVoltageRange>21-34V</batteryVoltageRange> <efficiency>94</efficiency> <standbyCurrent>45mA</standbyCurrent> <weight>22kg</weight> </inverter> <inverter> <manufacturer>Latronics</manufacturer> <model>LS 2548</model> <voltage>48</voltage> <capacity>2500</capacity> <halfHourRating>3000W</halfHourRating> <surgeRating>7500W</surgeRating> <batteryVoltageRange>42-68V</batteryVoltageRange> <efficiency>94</efficiency> <standbyCurrent>35mA</standbyCurrent> <weight>22kg</weight> </inverter> <inverter> <manufacturer>Latronics</manufacturer> <model>LS 3024</model> <voltage>24</voltage> <capacity>3000</capacity> <halfHourRating>3700W</halfHourRating> <surgeRating>9000W</surgeRating> <batteryVoltageRange>21-34V</batteryVoltageRange> <efficiency>93</efficiency> <standbyCurrent>50mA</standbyCurrent> <weight>24kg</weight> </inverter> <inverter> <manufacturer>Latronics</manufacturer> <model>LS 3548</model> <voltage>48</voltage> <capacity>3500</capacity> <halfHourRating>4100W</halfHourRating> <surgeRating>10500W</surgeRating> <batteryVoltageRange>42-68V</batteryVoltageRange> <efficiency>94</efficiency> <standbyCurrent>40mA</standbyCurrent> <weight>24kg</weight> </inverter> <inverter> <manufacturer>Latronics</manufacturer> <model>LS 4024</model> <voltage>24</voltage> <capacity>4000</capacity> <halfHourRating>4500W</halfHourRating> <surgeRating>12000W</surgeRating> <batteryVoltageRange>21-34V</batteryVoltageRange> <efficiency>94</efficiency> <standbyCurrent>60mA</standbyCurrent> <weight>30kg</weight> </inverter> <inverter> <manufacturer>Latronics</manufacturer> <model>LS 5048</model> <voltage>48</voltage> <capacity>5000</capacity> <halfHourRating>6000W</halfHourRating> <surgeRating>15000W</surgeRating> <batteryVoltageRange>42-68V</batteryVoltageRange> <efficiency>95</efficiency> <standbyCurrent>55mA</standbyCurrent> <weight>30kg</weight> </inverter> <inverter> <manufacturer>Latronics</manufacturer> <model>LS 7048</model> <voltage>48</voltage> <capacity>7000</capacity> <halfHourRating>8500W</halfHourRating> <surgeRating>20000W</surgeRating> <batteryVoltageRange>42-68V</batteryVoltageRange> <efficiency>95</efficiency> <standbyCurrent>60mA</standbyCurrent> <weight>34kg</weight> </inverter> <inverter> <manufacturer>Studer</manufacturer> <model>AJ 275-12</model> <voltage>12</voltage> <capacity>200</capacity> <halfHourRating>0</halfHourRating> <surgeRating>450W</surgeRating> <batteryVoltageRange>10.5-16V</batteryVoltageRange> <efficiency>93</efficiency> <standbyCurrent>0</standbyCurrent> <weight>2.4kg</weight> </inverter> <inverter> <manufacturer>Studer</manufacturer> <model>AJ 500-12</model> <voltage>12</voltage> <capacity>400</capacity> <halfHourRating>0</halfHourRating> <surgeRating>100W</surgeRating> <batteryVoltageRange>10.5-16V</batteryVoltageRange> <efficiency>93</efficiency> <standbyCurrent>0</standbyCurrent> <weight>4.5kg</weight> </inverter> <inverter> <manufacturer>Studer</manufacturer> <model>AJ 1000-12</model> <voltage>12</voltage> <capacity>800</capacity> <halfHourRating>0</halfHourRating> <surgeRating>2200W</surgeRating> <batteryVoltageRange>10.5-16V</batteryVoltageRange> <efficiency>93</efficiency> <standbyCurrent>0</standbyCurrent> <weight>8.5kg</weight> </inverter> <inverter> <manufacturer>Studer</manufacturer> <model>AJ 2100-12</model> <voltage>12</voltage> <capacity>2000</capacity> <halfHourRating>0</halfHourRating> <surgeRating>5000W</surgeRating> <batteryVoltageRange>10.5-16V</batteryVoltageRange> <efficiency>92</efficiency> <standbyCurrent>0</standbyCurrent> <weight>19kg</weight> </inverter> <inverter> <manufacturer>Studer</manufacturer> <model>AJ 350-24</model> <voltage>24</voltage> <capacity>300</capacity> <halfHourRating>0</halfHourRating> <surgeRating>650W</surgeRating> <batteryVoltageRange>21-32V</batteryVoltageRange> <efficiency>94</efficiency> <standbyCurrent>0</standbyCurrent> <weight>2.6kg</weight> </inverter> <inverter> <manufacturer>Studer</manufacturer> <model>AJ 600-24</model> <voltage>24</voltage> <capacity>500</capacity> <halfHourRating>0</halfHourRating> <surgeRating>1200W</surgeRating> <batteryVoltageRange>21-32V</batteryVoltageRange> <efficiency>94</efficiency> <standbyCurrent>0</standbyCurrent> <weight>4.5kg</weight> </inverter> <inverter> <manufacturer>Studer</manufacturer> <model>AJ 1300-24</model> <voltage>24</voltage> <capacity>1000</capacity> <halfHourRating>0</halfHourRating> <surgeRating>2800W</surgeRating> <batteryVoltageRange>21-32V</batteryVoltageRange> <efficiency>94</efficiency> <standbyCurrent>0</standbyCurrent> <weight>8.5kg</weight> </inverter> <inverter> <manufacturer>Studer</manufacturer> <model>AJ 2400-24</model> <voltage>24</voltage> <capacity>2000</capacity> <halfHourRating>0</halfHourRating> <surgeRating>5200W</surgeRating> <batteryVoltageRange>21-32V</batteryVoltageRange> <efficiency>94</efficiency> <standbyCurrent>0</standbyCurrent> <weight>18kg</weight> </inverter> <inverter> <manufacturer>Studer</manufacturer> <model>AJ 400-48</model> <voltage>48</voltage> <capacity>300</capacity> <halfHourRating>0</halfHourRating> <surgeRating>1000W</surgeRating> <batteryVoltageRange>42 - 64V</batteryVoltageRange> <efficiency>94</efficiency> <standbyCurrent>0</standbyCurrent> <weight>2.6kg</weight> </inverter> <inverter> <manufacturer>Studer</manufacturer> <model>AJ 700-48</model> <voltage>48</voltage> <capacity>500</capacity> <halfHourRating>0</halfHourRating> <surgeRating>1400W</surgeRating> <batteryVoltageRange>42 - 64V</batteryVoltageRange> <efficiency>94</efficiency> <standbyCurrent>0</standbyCurrent> <weight>4.5kg</weight> </inverter> <inverter> <manufacturer>Xantrex</manufacturer> <model>PROsine 1000i-12 ATS</model> <voltage>12</voltage> <capacity>1000</capacity> <halfHourRating>0</halfHourRating> <surgeRating>1500W</surgeRating> <batteryVoltageRange>10 - 16V</batteryVoltageRange> <efficiency>90</efficiency> <standbyCurrent>0</standbyCurrent> <weight>7.0kg</weight> </inverter> <inverter> <manufacturer>Xantrex</manufacturer> <model>PROsine 1000i-24</model> <voltage>24</voltage> <capacity>1000</capacity> <halfHourRating>0</halfHourRating> <surgeRating>1500W</surgeRating> <batteryVoltageRange> 20 - 32V</batteryVoltageRange> <efficiency>90</efficiency> <standbyCurrent>0</standbyCurrent> <weight>7.0kg</weight> </inverter> <inverter> <manufacturer>Xantrex</manufacturer> <model>PROsine 1800i-12</model> <voltage>12</voltage> <capacity>1800</capacity> <halfHourRating>0</halfHourRating> <surgeRating>2900W</surgeRating> <batteryVoltageRange>10 - 16V</batteryVoltageRange> <efficiency>0</efficiency> <standbyCurrent>0</standbyCurrent> <weight>7.5kg</weight> </inverter> <inverter> <manufacturer>Xantrex</manufacturer> <model>PROsine 1800i-24</model> <voltage>24</voltage> <capacity>1800</capacity> <halfHourRating>0</halfHourRating> <surgeRating>2900W</surgeRating> <batteryVoltageRange>20 - 32V</batteryVoltageRange> <efficiency>90</efficiency> <standbyCurrent>0</standbyCurrent> <weight> 7.5kg</weight> </inverter> </inverters> ";
	
	public DBPopulator(){
		um = new SolarComponentUnmarshaller();		
	}
	
	public DBPopulator(SolarComponentUnmarshaller um){
		this.um=um;
	}
	
	
	@GET
	@Produces("text/html")
	@Path("/")
	public String populateDB(@QueryParam("panel") @DefaultValue("") String panels, @QueryParam("inverter") @DefaultValue("") String inverters, @QueryParam("battery") @DefaultValue("") String batteries) throws InvalidArgumentException{
		try{
			String ret="";
			if(!panels.equals("")){
				ret+="Panels: \n";
				ret+= unmarshal(PanelContainer.class,inputPanel)+"\n";
			}
			
			if(!inverters.equals("")){
				ret+="Inverters: \n";
				ret+= unmarshal(InverterContainer.class,inputInverter)+"\n";
			}
			
			if(!batteries.equals("")){
				ret+="Batteries:\n";
				ret+= unmarshal(BatteryContainer.class,inputBattery)+"\n";
			}
			if(!ret.isEmpty())
				return "Database populated with: "+ret;
			return "Database populated with nothing";
		}catch(Exception e){
			e.printStackTrace();
			throw new InvalidArgumentException(e.getMessage());
		}

	}
	private String unmarshal(Class<? extends ComponentContainer> class1, String xml) {
		try{
			ComponentContainer p=um.unmarshall(class1, xml);
			p.save();

			return p.getList().toString();
		}catch(Exception e){
			throw new IllegalArgumentException(e.getMessage());
		}
	}
	
}
